import { AllSkillDataT } from '..';

type ShiroSkills = "GE_DartsSkill" | "GE_DartsEvade2" | "GE_DartsEvade2_fenlie" | "GE_DartsEvade1" | "GE_DartsMelee1" | "GE_DartsMelee2" | "GE_DartsMelee3" | "GE_DartsMelee4" | "GE_DartsMelee5" | "GE_DartsMelee6" | "GE_DartsAirAttack1" | "GE_DartsAirAttack2" | "GE_DartsAirAttack3" | "GE_DartsAirAttack4" | "GE_DartsChangeSkill1" | "GE_DartsChangeSkillFail" | "GE_DartsSneak";

export const GetShiroSkillData = (skillLevel: number):AllSkillDataT => {
    skillLevel = skillLevel - 1; // array indexing
    const SkillData:AllSkillDataT = {
        "Skills": {
            "Rapid Throw": {
                "type": "GroundNormalAttack",
                "desc": "While on the ground, brandish the chakram to unleash 5 spinning attacks.",
                "labels": [
                    `First Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsMelee1']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee1'][skillLevel]}</>.`,
                    `Second Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsMelee2']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee2'][skillLevel]}</>.`,
                    `Third Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsMelee3']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee3'][skillLevel]}</>.`,
                    `Fourth Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsMelee4']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee4'][skillLevel]}</>.`,
                    `Fifth Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsMelee5']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee5'][skillLevel]}</> and knock the target back a short distance.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsMelee1'], "Flat": SkillCoeff['GE_DartsMelee1'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsMelee2'], "Flat": SkillCoeff['GE_DartsMelee2'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsMelee3'], "Flat": SkillCoeff['GE_DartsMelee3'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsMelee4'], "Flat": SkillCoeff['GE_DartsMelee4'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsMelee5'], "Flat": SkillCoeff['GE_DartsMelee5'][skillLevel]},
                ]
            },
            "Aerial Discharge": {
                "type": "AirNormalAttack",
                "desc": "While airborne or after jumping once, use normal attack to unleash 3 spinning attacks in a row.",
                "labels": [
                    `First Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsAirAttack1']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsAirAttack1'][skillLevel]}</>.`,
                    `Second Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsAirAttack2']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsAirAttack2'][skillLevel]}</>.`,
                    `Third Attack: Deal damage equal to <c1>${(SkillMultCoeff['GE_DartsAirAttack3']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsAirAttack3'][skillLevel]}</>.`,
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsAirAttack1'], "Flat": SkillCoeff['GE_DartsAirAttack1'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsAirAttack2'], "Flat": SkillCoeff['GE_DartsAirAttack2'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsAirAttack3'], "Flat": SkillCoeff['GE_DartsAirAttack3'][skillLevel]},
                ]
            },
            "Scatter": {
                "type": "GroundHoldAttack",
                "desc": "After the second normal attack, hold attack button to activate Scatter.",
                "labels": [
                    `Fire five penetrating chakrams forward, each hit dealing <c1>${(SkillMultCoeff['GE_DartsMelee6']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsMelee6'][skillLevel]}</> damage, with minor knockback.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsMelee6'], "Flat": SkillCoeff['GE_DartsMelee6'][skillLevel]},
                ]
            },
            "Air Spin": {
                "type": "AirHoldAttack",
                "desc": "Tap and hold normal attack while airborne to trigger Air Spin.",
                "labels": [
                    `Unleash a powerful strike, dealing damage equal to <c1>${(SkillMultCoeff['GE_DartsAirAttack4']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsAirAttack4'][skillLevel]}</> to the target and nearby enemies, and suspend them.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsAirAttack4'], "Flat": SkillCoeff['GE_DartsAirAttack4'][skillLevel]},
                ]
            },
            "Sneak Attack": {
                "type": "SneakAttack",
                "desc": "",
                "labels": [
                    `Approach the enemy from behind while crouching, then use normal attack to use Sneak Attack dealing damage equal to <c1>${(SkillMultCoeff['GE_DartsSneak']*100).toFixed(1)}%</> of ATK <c2>+${SkillCoeff['GE_DartsSneak'][skillLevel]}</>.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsSneak'], "Flat": SkillCoeff['GE_DartsSneak'][skillLevel]},
                ]
            },
            "Waning Moon": {
                "type": "DodgeAttack",
                "desc": "Tap normal attack during the short period after dodging to trigger Waning Moon.",
                "labels": [
                    `Toss a spinning chakram forward, dealing damage equal to <c1>${(SkillMultCoeff['GE_DartsEvade2']*100).toFixed(1)}%</> of ATK <c2>+ ${SkillCoeff['GE_DartsEvade2'][skillLevel]}</> to the target and inflicting a stun effect for 0.5 seconds.`,
                    `The chakram then splits into 3 and keeps traveling, dealing damage equal to <c1>${(SkillMultCoeff['GE_DartsEvade2_fenlie']*100).toFixed(1)}%</> of ATK <c2>+ ${SkillCoeff['GE_DartsEvade2_fenlie'][skillLevel]}</> to targets along their path. Split chakrams will bounce during Full Bloom.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsEvade2'], "Flat": SkillCoeff['GE_DartsEvade2'][skillLevel]},
                    {"Mult": SkillMultCoeff['GE_DartsEvade2_fenlie'], "Flat": SkillCoeff['GE_DartsEvade2_fenlie'][skillLevel]},
                ]
            },
            "Full Bloom": {
                "type": "Skill",
                "desc": "Create a Chakram Domain with the Wanderer at the center for 8 seconds. At the same time, enemies are pulled in, and their speed is reduced by 30% for 8 seconds. Cooldown: 45 seconds.",
                "labels": [
                    `Fire 5 chakrams that bounce between enemies, dealing damage equal to <c1>${(SkillMultCoeff['GE_DartsSkill']*100).toFixed(1)}%</> of ATK <c2>+ ${SkillCoeff['GE_DartsSkill'][skillLevel]}</> to targets along their paths, bouncing up to 5 times. The split chakrams triggered by Waning Moon will also bounce up to 5 times.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsSkill'], "Flat": SkillCoeff['GE_DartsSkill'][skillLevel]},
                ]
            },
            "Spirit of the Air": {
                "type": "Discharge",
                "desc": "When weapon charge is full or Phantasia is triggered, switching to this weapon from another weapon removes all debuffs from the wielder and unleashes Chakram of the Seas at a target.",
                "labels": [
                    `Struck target causes AOE stun for 1 second, plus 1 attack each against up to 3 units every second (each attack has 10% chance of stunning the target for 1.5 seconds), dealing <c1>${(SkillMultCoeff['GE_DartsChangeSkill1']*100).toFixed(1)}%</> of ATK <c2>+ ${SkillCoeff['GE_DartsChangeSkill1'][skillLevel]}</> damage for 10 seconds.`
                ],
                "skillDamage": [
                    {"Mult": SkillMultCoeff['GE_DartsChangeSkill1'], "Flat": SkillCoeff['GE_DartsChangeSkill1'][skillLevel]},
                ]
            }
        }
    }
    return SkillData;
}

type SkillMultCoeffT = {[Skill in ShiroSkills]: number}
const SkillMultCoeff:SkillMultCoeffT = {
    "GE_DartsSkill": 0.242,
    "GE_DartsEvade2": 1.329,
    "GE_DartsEvade2_fenlie": 0.242,
    "GE_DartsEvade1": 0.38,
    "GE_DartsMelee1": 0.307,
    "GE_DartsMelee2": 0.238,
    "GE_DartsMelee3": 0.34,
    "GE_DartsMelee4": 0.307,
    "GE_DartsMelee5": 0.538,
    "GE_DartsMelee6": 0.435,
    "GE_DartsAirAttack1": 0.262,
    "GE_DartsAirAttack2": 0.292,
    "GE_DartsAirAttack3": 0.372,
    "GE_DartsAirAttack4": 1.915,
    "GE_DartsChangeSkill1": 0.414,
    "GE_DartsChangeSkillFail": 0.143,
    "GE_DartsSneak": 4.275
}

type SkillCoeffT = {[Skill in ShiroSkills]: number[]}
const SkillCoeff:SkillCoeffT = {
    "GE_DartsSkill": [
        1.0,
        7.0,
        15.0,
        23.0,
        30.0,
        38.0,
        46.0,
        53.0,
        61.0,
        69.0,
        76.0,
        84.0,
        92.0,
        99.0,
        107.0,
        115.0,
        122.0,
        130.0,
        138.0,
        145.0
    ],
    "GE_DartsEvade2": [
        7.0,
        41.0,
        83.0,
        125.0,
        167.0,
        209.0,
        251.0,
        293.0,
        335.0,
        377.0,
        419.0,
        461.0,
        503.0,
        545.0,
        587.0,
        629.0,
        671.0,
        713.0,
        755.0,
        797.0
    ],
    "GE_DartsEvade2_fenlie": [
        1.0,
        7.0,
        15.0,
        23.0,
        30.0,
        38.0,
        46.0,
        53.0,
        61.0,
        69.0,
        76.0,
        84.0,
        92.0,
        99.0,
        107.0,
        115.0,
        122.0,
        130.0,
        138.0,
        145.0
    ],
    "GE_DartsEvade1": [
        2.0,
        12.0,
        24.0,
        36.0,
        48.0,
        60.0,
        72.0,
        84.0,
        96.0,
        108.0,
        120.0,
        132.0,
        144.0,
        156.0,
        168.0,
        180.0,
        192.0,
        204.0,
        216.0,
        228.0
    ],
    "GE_DartsMelee1": [
        2.0,
        9.0,
        19.0,
        29.0,
        39.0,
        48.0,
        58.0,
        68.0,
        77.0,
        87.0,
        97.0,
        106.0,
        116.0,
        126.0,
        136.0,
        145.0,
        155.0,
        165.0,
        174.0,
        184.0
    ],
    "GE_DartsMelee2": [
        1.0,
        7.0,
        15.0,
        22.0,
        30.0,
        37.0,
        45.0,
        52.0,
        60.0,
        68.0,
        75.0,
        83.0,
        90.0,
        98.0,
        105.0,
        113.0,
        120.0,
        128.0,
        135.0,
        143.0
    ],
    "GE_DartsMelee3": [
        2.0,
        10.0,
        21.0,
        32.0,
        43.0,
        53.0,
        64.0,
        75.0,
        86.0,
        96.0,
        107.0,
        118.0,
        129.0,
        139.0,
        150.0,
        161.0,
        172.0,
        182.0,
        193.0,
        204.0
    ],
    "GE_DartsMelee4": [
        2.0,
        9.0,
        19.0,
        29.0,
        39.0,
        48.0,
        58.0,
        68.0,
        77.0,
        87.0,
        97.0,
        106.0,
        116.0,
        126.0,
        136.0,
        145.0,
        155.0,
        165.0,
        174.0,
        184.0
    ],
    "GE_DartsMelee5": [
        3.0,
        16.0,
        33.0,
        50.0,
        68.0,
        85.0,
        102.0,
        119.0,
        136.0,
        153.0,
        170.0,
        187.0,
        204.0,
        221.0,
        238.0,
        255.0,
        272.0,
        289.0,
        306.0,
        323.0
    ],
    "GE_DartsMelee6": [
        2.0,
        13.0,
        27.0,
        41.0,
        55.0,
        68.0,
        82.0,
        96.0,
        110.0,
        123.0,
        137.0,
        151.0,
        165.0,
        178.0,
        192.0,
        206.0,
        220.0,
        233.0,
        247.0,
        261.0
    ],
    "GE_DartsAirAttack1": [
        1.0,
        8.0,
        16.0,
        25.0,
        33.0,
        41.0,
        49.0,
        58.0,
        66.0,
        74.0,
        83.0,
        91.0,
        99.0,
        107.0,
        116.0,
        124.0,
        132.0,
        141.0,
        149.0,
        157.0
    ],
    "GE_DartsAirAttack2": [
        2.0,
        9.0,
        18.0,
        27.0,
        37.0,
        46.0,
        55.0,
        64.0,
        74.0,
        83.0,
        92.0,
        101.0,
        111.0,
        120.0,
        129.0,
        138.0,
        147.0,
        157.0,
        166.0,
        175.0
    ],
    "GE_DartsAirAttack3": [
        2.0,
        11.0,
        23.0,
        35.0,
        47.0,
        58.0,
        70.0,
        82.0,
        94.0,
        106.0,
        117.0,
        129.0,
        141.0,
        153.0,
        164.0,
        176.0,
        188.0,
        200.0,
        211.0,
        223.0
    ],
    "GE_DartsAirAttack4": [
        10.0,
        59.0,
        119.0,
        180.0,
        240.0,
        301.0,
        361.0,
        422.0,
        483.0,
        543.0,
        604.0,
        664.0,
        725.0,
        785.0,
        846.0,
        907.0,
        967.0,
        1028.0,
        1088.0,
        1149.0
    ],
    "GE_DartsChangeSkill1": [
        2.0,
        13.0,
        26.0,
        39.0,
        52.0,
        65.0,
        78.0,
        91.0,
        104.0,
        117.0,
        131.0,
        144.0,
        157.0,
        170.0,
        183.0,
        196.0,
        209.0,
        222.0,
        235.0,
        248.0
    ],
    "GE_DartsChangeSkillFail": [
        1.0,
        4.0,
        9.0,
        13.0,
        18.0,
        22.0,
        27.0,
        32.0,
        36.0,
        41.0,
        45.0,
        50.0,
        54.0,
        59.0,
        63.0,
        68.0,
        72.0,
        77.0,
        81.0,
        86.0
    ],
    "GE_DartsSneak": [
        23.0,
        131.0,
        266.0,
        401.0,
        536.0,
        672.0,
        807.0,
        942.0,
        1077.0,
        1213.0,
        1348.0,
        1483.0,
        1618.0,
        1753.0,
        1889.0,
        2024.0,
        2159.0,
        2294.0,
        2430.0,
        2565.0
    ]
}